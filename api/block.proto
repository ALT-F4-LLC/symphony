syntax = "proto3";

package api;

service Block {
  rpc GetLv(LvFields) returns (LvMetadata) {}
  rpc NewLv(NewLvFields) returns (LvMetadata) {}
  rpc RemoveLv(LvFields) returns (RemoveStatus) {}
  rpc GetPv(PvFields) returns (PvMetadata) {}
  rpc NewPv(PvFields) returns (PvMetadata) {}
  rpc RemovePv(PvFields) returns (RemoveStatus) {}
  rpc GetVg(VgFields) returns (VgMetadata) {}
  rpc NewVg(NewVgFields) returns (VgMetadata) {}
  rpc RemoveVg(VgFields) returns (RemoveStatus) {}
}

message LvFields {
  string ID = 1;
  string VolumeGroupID = 2;
}

message PvFields { string Device = 1; }

message VgFields { string ID = 1; }

message NewLvFields {
  string ID = 1;
  string VolumeGroupID = 2;
  string Size = 3;
}

message NewVgFields {
  string Device = 1;
  string ID = 2;
}

message LvMetadata {
  string LvName = 1;
  string VgName = 2;
  string LvAttr = 3;
  string LvSize = 4;
  string PoolLv = 5;
  string Origin = 6;
  string DataPercent = 7;
  string MetadataPercent = 8;
  string MovePv = 9;
  string MirrorLog = 10;
  string CopyPercent = 11;
  string ConvertLv = 12;
}

message PvMetadata {
  string PvName = 1;
  string VgName = 2;
  string PvFmt = 3;
  string PvAttr = 4;
  string PvSize = 5;
  string PvFree = 6;
}

message VgMetadata {
  string VgName = 1;
  string PvCount = 2;
  string LvCount = 3;
  string SnapCount = 4;
  string VgAttr = 5;
  string VgSize = 6;
  string VgFree = 7;
}

message RemoveStatus { bool Success = 1; }